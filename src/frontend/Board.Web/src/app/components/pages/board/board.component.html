<div class="board-container">
  <div class="board-header">
    <div class="board-title">
      <h1>{{ currentBoard?.title || 'PROJECT TITLE' }}</h1>
    </div>

    <div class="board-stats">
      <div class="stat-item">
        <span class="stat-label">Всего задач:</span>
        <span class="stat-value">{{ getTaskCount() }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Завершено:</span>
        <span class="stat-value">{{ getCompletedTaskCount() }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Прогресс:</span>
        <span class="stat-value">{{ getProgressPercentage() }}%</span>
      </div>
    </div>
  </div>

  <div class="board-content">
    <div *ngIf="loading" class="loading">Загрузка задач...</div>
    <div *ngIf="!loading && error" class="error">{{ error }}</div>

    <div class="board-columns " *ngIf="!loading && !error">
      <app-board-column
        *ngFor="let column of columns"
        [columnId]="column.id"
        [boardId]="currentBoardId ?? column.id"
        [allTasks]="tasks"
        [columnTasks]="getTasksByStatus(column.id)"

        (addTask)="onAddTask($event)"
        (editTask)="onEditTask($event)"
        (deleteTask)="onDeleteTask($event)"
        (moveTask)="onMoveTask($event)"
        (dropTask)="onDropTask($event)">
      </app-board-column>
    </div>
  </div>
</div>
